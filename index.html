<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Space Quiz Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ðŸŒŒ Background Video -->
  <video autoplay muted loop id="home-video">
    <source src="assets/space-video.mp4.mp4" type="video/mp4">
  </video>

  <!-- ðŸŽµ Audio Elements -->
  <audio id="quiz-audio" loop>
    <source src="assets/quiz-audio.mp3" type="audio/mp3">
  </audio>
  <audio id="click-sound" src="assets/click.mp3"></audio>
  <audio id="complete-sound" src="assets/complete.mp3"></audio>

  <!-- ðŸ“¦ Topic Selector Carousel -->
  <div class="carousel-container">
    <button class="nav-btn left" onclick="scrollTopics(-1)">&#9664;</button>

    <div class="topics-carousel" id="topics-carousel">
      <div class="topic-card">
        <h3>Science</h3>
        <p>Explore Physics, Chemistry & more.</p>
        <button onclick="startQuiz('science')">Start</button>
      </div>
      <div class="topic-card">
        <h3>Mathematics</h3>
        <p>Challenge your brain with numbers.</p>
        <button onclick="startQuiz('mathematics')">Start</button>
      </div>
      <div class="topic-card">
        <h3>Biology</h3>
        <p>Understand living organisms and systems.</p>
        <button onclick="startQuiz('biology')">Start</button>
      </div>
      <div class="topic-card">
        <h3>History</h3>
        <p>Discover events and historical figures.</p>
        <button onclick="startQuiz('history')">Start</button>
      </div>
      <div class="topic-card">
        <h3>General Knowledge</h3>
        <p>Test your awareness of the world.</p>
        <button onclick="startQuiz('gk')">Start</button>
      </div>
    </div>

    <button class="nav-btn right" onclick="scrollTopics(1)">&#9654;</button>
  </div>

  <!-- âœ… Final Audio + Scroll + Quiz Logic -->
  <script>
    function scrollTopics(dir) {
      const container = document.getElementById('topics-carousel');
      container.scrollBy({ left: dir * 320, behavior: 'smooth' });
    }

    function startQuiz(topic) {
      localStorage.setItem("selectedTopic", topic);
      localStorage.setItem("playAudio", "true");

      const bgMusic = document.getElementById("quiz-audio");
      if (bgMusic) bgMusic.pause();

      window.location.href = "quiz.html";
    }

    document.addEventListener("DOMContentLoaded", () => {
      const bgMusic = document.getElementById("quiz-audio");

      const enableAudio = () => {
        console.log("ðŸ”Š Attempting to play audio");
        bgMusic.volume = 0.4;
        bgMusic.play()
          .then(() => console.log("ðŸŽµ Audio started"))
          .catch(err => console.warn("ðŸ”‡ Audio autoplay blocked:", err));
        window.removeEventListener("click", enableAudio);
      };

      // Wait for user to click anywhere
      window.addEventListener("click", enableAudio);
    });
  </script>

  <script src="script.js"></script>
</body>
</html>
